(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{2762:function(e,t,o){"use strict";o.r(t);var c=o("7a23");function a(e,t,o,a,r,n){return Object(c["openBlock"])(),Object(c["createBlock"])("div")}var r={data:function(){return{test:""}},created:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this,o="https://vue-course-api.hexschool.io/api/heather/orders?".concat(e);this.axios.get(o).then((function(e){t.test=e.orders,console.log(e)}))}};r.render=a;t["default"]=r},c579:function(e,t,o){"use strict";o.r(t);o("b0c0");var c=o("7a23"),a={class:"my-5 row justify-content-center"},r={class:"table"},n=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("th",null,"品名"),Object(c["createVNode"])("th",null,"數量"),Object(c["createVNode"])("th",null,"單價")],-1),l={class:"align-middle"},d={class:"align-middle"},s={class:"align-middle text-right"},i=Object(c["createVNode"])("td",{colspan:"2",class:"text-right"},"總計",-1),u={class:"text-right"},b={class:"table"},p=Object(c["createVNode"])("th",{width:"100"},"Email",-1),O=Object(c["createVNode"])("th",null,"姓名",-1),j=Object(c["createVNode"])("th",null,"收件人電話",-1),h=Object(c["createVNode"])("th",null,"收件人地址",-1),m=Object(c["createVNode"])("th",null,"付款狀態",-1),V={key:0},N={key:1,class:"text-success"},f={key:0,class:"text-right"},g=Object(c["createVNode"])("button",{class:"btn btn-danger"},"確認付款去",-1);function v(e,t,o,v,k,y){return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])("form",{class:"col-md-6",onSubmit:t[1]||(t[1]=Object(c["withModifiers"])((function(){return y.payOrder&&y.payOrder.apply(y,arguments)}),["prevent"]))},[Object(c["createVNode"])("table",r,[n,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(k.order.products,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:e.id},[Object(c["createVNode"])("td",l,Object(c["toDisplayString"])(e.product.title),1),Object(c["createVNode"])("td",d,Object(c["toDisplayString"])(e.qty)+"/"+Object(c["toDisplayString"])(e.product.unit),1),Object(c["createVNode"])("td",s,Object(c["toDisplayString"])(e.final_total),1)])})),128))]),Object(c["createVNode"])("tfoot",null,[Object(c["createVNode"])("tr",null,[i,Object(c["createVNode"])("td",u,Object(c["toDisplayString"])(k.order.total),1)])])]),Object(c["createVNode"])("table",b,[Object(c["createVNode"])("tbody",null,[Object(c["createVNode"])("tr",null,[p,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(k.order.user.email),1)]),Object(c["createVNode"])("tr",null,[O,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(k.order.user.name),1)]),Object(c["createVNode"])("tr",null,[j,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(k.order.user.tel),1)]),Object(c["createVNode"])("tr",null,[h,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(k.order.user.address),1)]),Object(c["createVNode"])("tr",null,[m,Object(c["createVNode"])("td",null,[k.order.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("span",N,"付款完成")):(Object(c["openBlock"])(),Object(c["createBlock"])("span",V,"尚未付款"))])])])]),!1===k.order.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("div",f,[g])):Object(c["createCommentVNode"])("",!0)],32)])}var k={data:function(){return{orderID:"",order:{user:{}}}},methods:{getOrder:function(e){var t=this,o="https://vue-course-api.hexschool.io/api/heather/order/".concat(e);this.axios.get(o).then((function(e){t.order=e.data.order}))},payOrder:function(){var e=this,t="https://vue-course-api.hexschool.io/api/heather/pay/".concat(e.orderID);this.axios.post(t).then((function(t){t.data.success&&e.getOrder(e.orderID)}))}},created:function(){this.orderID=this.$route.params.orderId,this.getOrder(this.orderID)}};k.render=v;t["default"]=k},f329:function(e,t,o){"use strict";o.r(t);var c=o("7a23"),a={class:"container-fluid"},r={class:"row"},n={role:"main",class:"text-start col-md-9 ml-sm-auto col-lg-10 pt-3 px-4"};function l(e,t,o,l,d,s){var i=Object(c["resolveComponent"])("Sidebar"),u=Object(c["resolveComponent"])("CouponsAD");return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])("div",r,[Object(c["createVNode"])(i),Object(c["createVNode"])("main",n,[Object(c["createVNode"])(u)])])])}o("ac1f"),o("5319");var d=o("3a08"),s={class:"text-end border-bottom pb-3"},i={class:"table"},u=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("th",{width:"120"},"優惠卷名稱"),Object(c["createVNode"])("th",null,"到期日"),Object(c["createVNode"])("th",{width:"80"},"折扣率"),Object(c["createVNode"])("th",{width:"80"},"是否啟用"),Object(c["createVNode"])("th",{width:"120"},"序號"),Object(c["createVNode"])("th",{width:"120"},"編輯")])],-1),b={key:0,class:"text-success"},p={key:1},O={class:"modal fade",id:"couponsModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},j={class:"modal-dialog modal-lg"},h={class:"modal-content"},m=Object(c["createVNode"])("div",{class:"modal-header"},[Object(c["createVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},"新增產品"),Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),V={class:"modal-body"},N={class:"row"},f={class:"col-sm-12"},g={class:"form-group"},v=Object(c["createVNode"])("label",{for:"title"},"標題",-1),k={class:"form-row"},y={class:"form-group col-md-6"},w=Object(c["createVNode"])("label",{for:"percent"},"優惠百分比",-1),x={class:"form-group col-md-6"},B=Object(c["createVNode"])("label",{for:"code"},"序號",-1),C={class:"form-group col-md-6"},D=Object(c["createVNode"])("label",{for:"due_date"},"到期日",-1),S=Object(c["createVNode"])("hr",null,null,-1),M={class:"form-group"},_={class:"form-check"},I=Object(c["createVNode"])("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),$={class:"modal-footer"},L=Object(c["createVNode"])("button",{type:"button","data-bs-dismiss":"modal","aria-label":"Close",class:"btn btn-outline-secondary"}," 取消 ",-1);function T(e,t,o,a,r,n){var l=Object(c["resolveComponent"])("Pagination");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("button",{class:"btn bg-primary text-white",onClick:t[1]||(t[1]=function(e){return n.openModal(!0)})}," 建立新的產品 ")]),Object(c["createVNode"])("table",i,[u,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(r.coupons,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:t},[Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.due_date),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.percent),1),Object(c["createVNode"])("td",null,[e.is_enabled?(Object(c["openBlock"])(),Object(c["createBlock"])("span",b,"啟用")):Object(c["createCommentVNode"])("",!0),e.is_enabled?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("span",p,"未啟用"))]),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.code),1),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{class:"btn btn-outline-primary btn-sm me-2",onClick:function(t){return n.openModal(!1,e)}}," 編輯 ",8,["onClick"]),Object(c["createVNode"])("button",{class:"btn btn-danger btn-sm",onClick:function(t){return n.delCoupon(e.id)}}," 刪除 ",8,["onClick"])])])})),128))])]),Object(c["createVNode"])(l,{pagination:r.pagination,onChangePage:n.getCoupons},null,8,["pagination","onChangePage"]),Object(c["createVNode"])("div",O,[Object(c["createVNode"])("div",j,[Object(c["createVNode"])("div",h,[m,Object(c["createVNode"])("div",V,[Object(c["createVNode"])("div",N,[Object(c["createVNode"])("div",f,[Object(c["createVNode"])("div",g,[v,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"title",placeholder:"請輸入標題","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.tempcoupon.title=e})},null,512),[[c["vModelText"],r.tempcoupon.title]])]),Object(c["createVNode"])("div",k,[Object(c["createVNode"])("div",y,[w,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"number",class:"form-control",id:"percent",placeholder:"輸入1~100","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.tempcoupon.percent=e})},null,512),[[c["vModelText"],r.tempcoupon.percent]])]),Object(c["createVNode"])("div",x,[B,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"code",placeholder:"請輸入序號","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.tempcoupon.code=e})},null,512),[[c["vModelText"],r.tempcoupon.code]])]),Object(c["createVNode"])("div",C,[D,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"number",class:"form-control",id:"due_date",placeholder:"請輸入到期日","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.tempcoupon.due_date=e})},null,512),[[c["vModelText"],r.tempcoupon.due_date]])])]),S,Object(c["createVNode"])("div",M,[Object(c["createVNode"])("div",_,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{class:"form-check-input",type:"checkbox",id:"is_enabled","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.tempcoupon.is_enabled=e}),"true-value":1,"false-value":0},null,512),[[c["vModelCheckbox"],r.tempcoupon.is_enabled]]),I])])])]),Object(c["createVNode"])("div",$,[L,Object(c["createVNode"])("button",{"data-bs-dismiss":"modal","aria-label":"Close",type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=function(){return n.updatecoupons&&n.updatecoupons.apply(n,arguments)})}," 確認 ")])])])])])])}var U=o("56d7"),P=o("29e4"),A={name:"coupon",data:function(){return{coupons:[],pagination:{},tempcoupon:{},isNew:!1}},components:{Loading:U["default"],Pagination:P["a"]},methods:{getCoupons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.$loading.show(),o="https://vue-course-api.hexschool.io/api/heather/admin/coupons?page=".concat(e),c=this;this.axios.get(o).then((function(e){t.hide(),c.coupons=e.data.coupons,c.pagination=e.data.pagination,console.log(e)}))},openModal:function(e,t){e?(this.tempcoupon={},this.isNew=!0):(this.tempcoupon=Object.assign({},t),this.isNew=!1);var o=new bootstrap.Modal(document.getElementById("couponsModal"),{keyboard:!1});o.show()},updatecoupons:function(){var e="https://vue-course-api.hexschool.io/api/heather/admin/coupon",t="post",o=this;o.isNew||(e="https://vue-course-api.hexschool.io/api/heather/admin/coupon/".concat(o.tempcoupon.id),t="put");var c=this.$loading.show();this.axios[t](e,{data:o.tempcoupon}).then((function(e){e.data.success?(swal("產品更新成功!","點擊OK關閉","success"),o.getCoupons()):swal("產品更新失敗","系統維修中","error"),c.hide()}))},delCoupon:function(e){var t="https://vue-course-api.hexschool.io/api/heather/admin/coupon/".concat(e),o=this,c=this.$loading.show();this.axios.delete(t).then((function(e){e.data.success?(swal("已刪除","點擊OK關閉","error"),o.getCoupons()):swal("產品更新失敗","系統維修中","error"),c.hide()}))}},created:function(){this.getCoupons()}};A.render=T;var E=A,F={name:"coupons",components:{Sidebar:d["a"],CouponsAD:E},created:function(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");console.log(e),""!=e&&(this.axios.defaults.headers.common["Authorization"]=e)}};F.render=l;t["default"]=F}}]);
//# sourceMappingURL=about.8b141152.js.map